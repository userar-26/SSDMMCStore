#ifndef SSDMMCSTORE_SSDMMC_SIM_H
#define SSDMMCSTORE_SSDMMC_SIM_H

#include "common.h"

// Читает одно слово из указанной страницы по смещению.
// page_num      — номер страницы, из которой производится чтение
// word_offset   — смещение слова внутри страницы (от 0 до words_per_page-1)
// word          — указатель на переменную, куда будет записано считанное слово
// Возвращает 0 при успешном чтении, отрицательное значение при ошибке.
int ctrl_read_word(uint32_t page_num, uint32_t word_offset, uint16_t *word);

// Записывает одно слово в указанную страницу по смещению.
// page_num      — номер страницы, в которую производится запись
// word_offset   — смещение слова внутри страницы (от 0 до words_per_page-1)
// word          — значение слова для записи
// Возвращает 0 при успешной записи, отрицательное значение при ошибке (например, если слово уже записано).
int ctrl_write_word(uint32_t page_num, uint32_t word_offset, uint16_t word);

// Читает несколько слов подряд из указанной страницы.
// page_num      — номер страницы, из которой производится чтение
// word_offset   — смещение первого слова внутри страницы
// buffer        — указатель на буфер, куда будут записаны считанные слова
// word_count    — количество слов для чтения
// Возвращает 0 при успешном чтении, отрицательное значение при ошибке.
int ctrl_read_words(uint32_t page_num, uint32_t word_offset, uint16_t *buffer, uint32_t word_count);

// Записывает несколько слов подряд в указанную страницу.
// page_num      — номер страницы, в которую производится запись
// word_offset   — смещение первого слова внутри страницы
// buffer        — указатель на буфер с записываемыми словами
// word_count    — количество слов для записи
// Возвращает 0 при успешной записи, отрицательное значение при ошибке.
int ctrl_write_words(uint32_t page_num, uint32_t word_offset, const uint16_t *buffer, uint32_t word_count);

// Возвращает общее количество страниц в памяти.
uint32_t ctrl_get_page_count(void);

// Возвращает количество слов в одной странице.
uint32_t ctrl_get_words_per_page(void);

// Возвращает размер одного слова в байтах (например, 2 для 16-битного слова).
uint32_t ctrl_get_word_size(void);


#endif
